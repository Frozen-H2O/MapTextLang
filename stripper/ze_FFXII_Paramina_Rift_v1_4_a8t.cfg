// 神器等级
//repush
add:
{
	"classname" "func_brush"
	"spawnflags" "2"
	"targetname" "why_map_data"
	"thinkfunction" "Think"
	"vscripts" "why/base/manager.nut why/savelevel/paramina_v1_4_a8t.nut"
}
add:
{
	"classname" "logic_eventlistener"
	"EventName" "player_connect"
	"targetname" "event_connect"
	"FetchEventData" "1"
	"IsEnabled" "1"
	"TeamNum" "-1"
	"vscripts" "why/base/event.nut"
	connections
	{
		"OnEventFired" "event_connectRunScriptCodePlayerConnect()0-1"
	}
}
add:
{
	"classname" "logic_eventlistener"
	"EventName" "player_use"
	"targetname" "event_use"
	"FetchEventData" "1"
	"IsEnabled" "1"
	"TeamNum" "-1"
	"vscripts" "why/base/event.nut"
	connections
	{
		"OnEventFired" "event_useRunScriptCodePlayerUse()0-1"
	}
}
add:
{
	"classname" "logic_eventlistener"
	"EventName" "player_disconnect"
	"targetname" "event_disconnect"
	"FetchEventData" "1"
	"IsEnabled" "1"
	"TeamNum" "-1"
	"vscripts" "why/base/event.nut"
	connections
	{
		"OnEventFired" "event_disconnectRunScriptCodePlayerDisconnect()0-1"
	}
}

modify:
{
	match:
		{
		"origin" "-14296 -11576 -1016"
		"classname" "logic_auto"
		}
	insert:
		{
		"OnMapSpawn" "why_map_dataRunScriptCodeInit()0-1"
		}
}

add:
{
	"origin" "-9688 -11608 -1015.97"
	"targetname" "Filter_Staff_Wind_0"
	"Negated" "1"
	"filtertype" "1"
	"Filter05" "Filter_Upgrade_5"
	"Filter04" "Filter_Upgrade_4"
	"Filter03" "Filter_Upgrade_3"
	"Filter02" "Filter_Upgrade_2"
	"Filter01" "Filter_Upgrade_1"
	"classname" "filter_multi"
	connections
	{
		"OnPass" "Secret_HudhintRunScriptCodeGetLevel(1,Wind_Memory);0-1"
	}
}
add:
{
	"origin" "-9688 -11608 -1015.97"
	"targetname" "Filter_Staff_Poison_0"
	"Negated" "1"
	"filtertype" "1"
	"Filter05" "Filter_Upgrade_5"
	"Filter04" "Filter_Upgrade_4"
	"Filter03" "Filter_Upgrade_3"
	"Filter02" "Filter_Upgrade_2"
	"Filter01" "Filter_Upgrade_1"
	"classname" "filter_multi"
	connections
	{
		"OnPass" "Secret_HudhintRunScriptCodeGetLevel(2,Poison_Memory);0-1"
	}
}
add:
{
	"origin" "-9688 -11608 -1015.97"
	"targetname" "Filter_Staff_Fire_0"
	"Negated" "1"
	"filtertype" "1"
	"Filter05" "Filter_Upgrade_5"
	"Filter04" "Filter_Upgrade_4"
	"Filter03" "Filter_Upgrade_3"
	"Filter02" "Filter_Upgrade_2"
	"Filter01" "Filter_Upgrade_1"
	"classname" "filter_multi"
	connections
	{
		"OnPass" "Secret_HudhintRunScriptCodeGetLevel(3,Fire_Memory);0-1"
	}
}
add:
{
	"origin" "-9688 -11608 -1015.97"
	"targetname" "Filter_Staff_Heal_0"
	"Negated" "1"
	"filtertype" "1"
	"Filter05" "Filter_Upgrade_5"
	"Filter04" "Filter_Upgrade_4"
	"Filter03" "Filter_Upgrade_3"
	"Filter02" "Filter_Upgrade_2"
	"Filter01" "Filter_Upgrade_1"
	"classname" "filter_multi"
	connections
	{
		"OnPass" "Secret_HudhintRunScriptCodeGetLevel(4,Heal_Memory);0-1"
	}
}
add:
{
	"origin" "-9688 -11608 -1015.97"
	"targetname" "Filter_Staff_Ice_0"
	"Negated" "1"
	"filtertype" "1"
	"Filter05" "Filter_Upgrade_5"
	"Filter04" "Filter_Upgrade_4"
	"Filter03" "Filter_Upgrade_3"
	"Filter02" "Filter_Upgrade_2"
	"Filter01" "Filter_Upgrade_1"
	"classname" "filter_multi"
	connections
	{
		"OnPass" "Secret_HudhintRunScriptCodeGetLevel(5,Ice_Memory);0-1"
	}
}

// 处理玩家双等级问题
modify:
{
	match:
	{
		"targetname" "/Stage[1,2][i]?_Win_Trigger/"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "!activatorFireUser20.01-1"
	}
	insert:
	{
		"OnStartTouch" "!activatorFireUser20.05-1"
	}
}

// 升级按钮
add:
{
	"classname" "game_zone_player"
	"targetname" "level_zone"
	connections
	{
		"OnPlayerOutZone" "Filter_Upgrade_*TestActivator0-1"
	}
}

add:
{
	"model" "*268"
	"wait" "0"
	"unlocked_sound" "0"
	"unlocked_sentence" "0"
	"targetname" "ADMIN_UPGRADE"
	"speed" "100"
	"spawnflags" "1024"
	"sounds" "0"
	"rendermode" "0"
	"renderfx" "0"
	"rendercolor" "255 255 255"
	"renderamt" "255"
	"origin" "-13216 1120 112"
	"movedir" "90 0 0"
	"min_use_angle" "0.8"
	"locked_sound" "0"
	"locked_sentence" "0"
	"lip" "0"
	"health" "0"
	"fadescale" "1"
	"fademindist" "-1"
	"disablereceiveshadows" "0"
	"classname" "func_button"
	connections
	{
		"OnPressed" "level_zoneCountPlayersInZone0-1"
		"OnPressed" "CmdCommandsay ** [ADMIN] 全体玩家提升1级 **0-1"
	}
}


// 神器隐身
modify:
{
	match:
	{
		"classname" "weapon_elite"
	}
	insert:
	{
		"OnPlayerPickup" "load_scriptRunscriptcodeSetNewOwner();0-1"
	}
}
add:
{
    "targetname" "load_script"
    "classname" "logic_relay"
    "vscripts" "why/hide_owner.nut why/anti_epick.nut"
    connections
    {
    	"OnSpawn" "!selfRunscriptCodeClearPlayerHide()0-1"
    	"OnSpawn" "!selfRunscriptCodeAUTO_HIDE=true;HIDE_ALPHA=20;0-1"
    }
}
